# å‰åç«¯é”™è¯¯é—®é¢˜è§£å†³æ€»ç»“

## ğŸš¨ é‡åˆ°çš„é—®é¢˜

### 1. å‰ç«¯é”™è¯¯
**é”™è¯¯ä¿¡æ¯**: `Failed to resolve import "element-plus" from "src/utils/request.js"`

**åŸå› **: å‰ç«¯é¡¹ç›®ç¼ºå°‘ `element-plus` ä¾èµ–åŒ…

**è§£å†³æ–¹æ¡ˆ**:
1. å®‰è£… `element-plus` ä¾èµ–
2. ç§»é™¤ `request.js` ä¸­çš„ `ElMessage` ä¾èµ–ï¼Œæ”¹ç”¨ `console.error` è¿›è¡Œé”™è¯¯å¤„ç†

### 2. åç«¯é”™è¯¯
**é”™è¯¯ä¿¡æ¯**: `Type org.springframework.boot.autoconfigure.web.client.RestClientAutoConfiguration not present`

**åŸå› **: Spring AI ç‰ˆæœ¬ä¸ Spring Boot ç‰ˆæœ¬ä¸å…¼å®¹
- åŸ Spring Boot ç‰ˆæœ¬: 2.7.14
- Spring AI éœ€è¦ Spring Boot 3.x ç‰ˆæœ¬

**è§£å†³æ–¹æ¡ˆ**:
1. å‡çº§ Spring Boot ç‰ˆæœ¬ä» 2.7.14 åˆ° 3.2.0
2. æ›´æ–° Spring AI ç‰ˆæœ¬åˆ° 1.0.0-M4
3. æ·»åŠ  Spring Snapshots ä»“åº“
4. æ›´æ–°é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°åç§°

## ğŸ”§ å…·ä½“ä¿®æ”¹å†…å®¹

### 1. å‰ç«¯ä¿®æ”¹

#### å®‰è£…ä¾èµ–
```bash
cd frontend
npm install element-plus
```

#### æ›´æ–° request.js
```javascript
// ç§»é™¤ Element Plus ä¾èµ–
// import { ElMessage } from 'element-plus'

// æ”¹ç”¨ console.error è¿›è¡Œé”™è¯¯å¤„ç†
console.error('è¯·æ±‚å¤±è´¥:', data.message || 'è¯·æ±‚å¤±è´¥')
console.error(message)
```

### 2. åç«¯ä¿®æ”¹

#### æ›´æ–° pom.xml
```xml
<!-- å‡çº§ Spring Boot ç‰ˆæœ¬ -->
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>3.2.0</version>
    <relativePath/>
</parent>

<!-- æ›´æ–° Spring AI ç‰ˆæœ¬ -->
<dependency>
    <groupId>org.springframework.ai</groupId>
    <artifactId>spring-ai-ollama-spring-boot-starter</artifactId>
    <version>1.0.0-M4</version>
</dependency>

<!-- æ·»åŠ  Spring Snapshots ä»“åº“ -->
<repository>
    <id>spring-snapshots</id>
    <name>Spring Snapshots</name>
    <url>https://repo.spring.io/snapshot</url>
    <releases>
        <enabled>false</enabled>
    </releases>
</repository>
```

#### æ›´æ–° application.yml
```yaml
spring:
  ai:
    ollama:
      base-url: http://localhost:11434
      chat:
        model: llama3
        options:
          temperature: 0.7
          top-p: 0.9
          num-predict: 2048  # ä» max-tokens æ”¹ä¸º num-predict
```

## âœ… è§£å†³ç»“æœ

### å‰ç«¯
- âœ… Element Plus ä¾èµ–å·²å®‰è£…
- âœ… é”™è¯¯å¤„ç†æ”¹ä¸ºä½¿ç”¨ console.error
- âœ… å‰ç«¯æœåŠ¡å¯ä»¥æ­£å¸¸å¯åŠ¨

### åç«¯
- âœ… Spring Boot ç‰ˆæœ¬å‡çº§åˆ° 3.2.0
- âœ… Spring AI ç‰ˆæœ¬æ›´æ–°åˆ° 1.0.0-M4
- âœ… é…ç½®æ–‡ä»¶å‚æ•°åç§°æ›´æ–°
- âœ… åç«¯æœåŠ¡å¯ä»¥æ­£å¸¸å¯åŠ¨

## ğŸš€ éªŒè¯æ­¥éª¤

### 1. å¯åŠ¨å‰ç«¯æœåŠ¡
```bash
cd frontend
npm run dev
```
è®¿é—®: http://localhost:5173

### 2. å¯åŠ¨åç«¯æœåŠ¡
```bash
mvn spring-boot:run
```
è®¿é—®: http://localhost:8080

### 3. æµ‹è¯•æ¥å£
```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:8080/api/sleep/health

# æµ‹è¯•AIå¥åº·æ£€æŸ¥
curl http://localhost:8080/api/ai/health
```

## ğŸ“‹ æ³¨æ„äº‹é¡¹

### 1. ç‰ˆæœ¬å…¼å®¹æ€§
- Spring Boot 3.x éœ€è¦ Java 17+
- Spring AI 1.0.0-M4 éœ€è¦ Spring Boot 3.x
- ç¡®ä¿ Java ç‰ˆæœ¬ä¸º 17 æˆ–æ›´é«˜

### 2. é…ç½®å‚æ•°
- Ollama é…ç½®ä¸­çš„ `max-tokens` æ”¹ä¸º `num-predict`
- ç¡®ä¿ Ollama æœåŠ¡è¿è¡Œåœ¨ http://localhost:11434

### 3. ä¾èµ–ç®¡ç†
- å‰ç«¯ä½¿ç”¨ npm ç®¡ç†ä¾èµ–
- åç«¯ä½¿ç”¨ Maven ç®¡ç†ä¾èµ–
- æ³¨æ„ä»“åº“é…ç½®çš„æ­£ç¡®æ€§

## ğŸ” æ•…éšœæ’é™¤

### å¦‚æœå‰ç«¯ä»æœ‰é—®é¢˜
1. æ£€æŸ¥ `node_modules` æ˜¯å¦æ­£ç¡®å®‰è£…
2. åˆ é™¤ `node_modules` å’Œ `package-lock.json`ï¼Œé‡æ–°å®‰è£…
3. æ£€æŸ¥ Vite é…ç½®æ˜¯å¦æ­£ç¡®

### å¦‚æœåç«¯ä»æœ‰é—®é¢˜
1. æ£€æŸ¥ Java ç‰ˆæœ¬æ˜¯å¦ä¸º 17+
2. æ¸…ç† Maven ç¼“å­˜: `mvn clean`
3. æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®ä¿èƒ½è®¿é—® Spring ä»“åº“
4. æ£€æŸ¥ Ollama æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ

### å¦‚æœ AI åŠŸèƒ½ä¸å·¥ä½œ
1. ç¡®ä¿ Ollama æœåŠ¡è¿è¡Œåœ¨ http://localhost:11434
2. ç¡®ä¿å·²ä¸‹è½½ llama3 æ¨¡å‹: `ollama pull llama3`
3. æ£€æŸ¥ Spring AI é…ç½®æ˜¯å¦æ­£ç¡®

## ğŸ¯ æ€»ç»“

é€šè¿‡ä»¥ä¸Šä¿®æ”¹ï¼ŒæˆåŠŸè§£å†³äº†å‰åç«¯çš„ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜ï¼š

1. **å‰ç«¯**: å®‰è£…äº†ç¼ºå¤±çš„ä¾èµ–ï¼Œç®€åŒ–äº†é”™è¯¯å¤„ç†
2. **åç«¯**: å‡çº§äº† Spring Boot ç‰ˆæœ¬ï¼Œæ›´æ–°äº† Spring AI é…ç½®
3. **é…ç½®**: æ›´æ–°äº†é…ç½®æ–‡ä»¶ä»¥é€‚é…æ–°ç‰ˆæœ¬

ç°åœ¨å‰åç«¯æœåŠ¡éƒ½å¯ä»¥æ­£å¸¸å¯åŠ¨ï¼ŒAI åŠŸèƒ½ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚å»ºè®®åœ¨éƒ¨ç½²å‰è¿›è¡Œå®Œæ•´çš„åŠŸèƒ½æµ‹è¯•ï¼Œç¡®ä¿æ‰€æœ‰æ¥å£éƒ½èƒ½æ­£å¸¸å“åº”ã€‚
